# 设置页子项分类方案

## 一、当前问题

当前「API 配置」下集中了 5 个子项：

- **API 设置**：密钥、模型、端点（与 API 强相关）
- **MCP 设置**：外部 MCP 服务器（实为**工具/扩展**，不是 API 本身）
- **记忆**：用户记忆数据（**上下文/能力**）
- **Skills 技能**：技能包（**能力/扩展**）
- **贾维斯配置**：配置包导入导出（**配置/扩展**）

问题在于：**只有「API 设置」真正属于「API 配置」**，其余四项是工具、能力、配置包，归在「API 配置」下容易让人误解，也不利于后续扩展（如权限、输出样式等）。

---

## 二、推荐分类方案

按**用途/角色**拆成 4 个一级分组，语义清晰、便于扩展：

| 一级分组 | 说明 | 子项 |
|----------|------|------|
| **常规** | 应用通用、与 AI 能力无直接关系 | 反馈、关于、语言 |
| **连接与模型** | 与后端/模型连接相关的配置 | API 设置 |
| **工具与扩展** | 外部工具、配置包、协议类扩展 | MCP 设置、贾维斯配置 |
| **能力** | AI 可直接调用的能力或上下文 | 记忆、Skills 技能 |

### 分组含义简述

1. **常规**  
   产品通用设置：反馈入口、关于、语言。不涉及「连什么模型、用什么工具」。

2. **连接与模型**  
   只放「如何连到模型/后端」：API 密钥、端点、模型选择等。未来若有「代理」「模型偏好」也可放这里。

3. **工具与扩展**  
   - **MCP 设置**：按协议接入的外部 MCP 服务器（文件、GitHub、搜索等）。  
   - **贾维斯配置**：以配置包形式导入/导出的能力组合。  
   共性：都是「扩展型、可插拔」的配置，而不是「记忆/技能」这类能力本身。

4. **能力**  
   - **记忆**：跨会话的上下文与检索。  
   - **Skills 技能**：可被调用的技能包。  
   共性：对话中 AI **直接使用**的上下文或能力，而不是「连到哪、接什么协议」。

---

## 三、与 i18n / 代码的对应

- 现有 `SettingsSection` 枚举不变，只调整**分组**（`group`）和**分组标题**（i18n `settingsPage.sections.*`）。
- 建议新增/调整的分组 key：
  - `general` → 常规（已有）
  - `connection` 或 `api` → 连接与模型（可保留 api 或重命名为 connection）
  - `tools` → 工具与扩展（新增）
  - `capabilities` → 能力（新增）
- `GROUP_ORDER` 建议为：`['general', 'connection', 'tools', 'capabilities']`（若保留 api 则用 `api` 代替 `connection`）。

---

## 四、可选：进一步扩展

若后续增加「权限」「输出样式」「规则 / Claude.md」等，可这样放：

- **权限** → 放在「工具与扩展」或单独「安全与权限」。
- **输出样式** → 放在「常规」或「体验」。
- **规则 / Claude.md** → 放在「能力」或「上下文」。

当前方案已为 2–3 个新子项预留空间，无需改一级分组名称即可扩展。

---

## 五、原型图说明

见同目录下 `settings-navigation-prototype.png`（或项目内原型图资源）：左侧为 4 个分组 + 子项列表，右侧为占位内容区，用于评审与实现对照。
